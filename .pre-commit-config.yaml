# AI reStarter Pre-commit設定 - 自動リフォーマット重視
repos:
  # 基本的なファイル整理（自動修正）
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.5.0
    hooks:
      - id: trailing-whitespace        # 行末空白を自動削除
      - id: end-of-file-fixer         # ファイル末尾改行を自動追加
      - id: check-yaml                # YAML形式チェック
      - id: check-added-large-files   # 大きなファイルの追加を防止
      - id: check-merge-conflict      # マージコンフリクトマーカーをチェック

  # Ruff - 高速なリンター・フォーマッター（最優先）
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.1.15
    hooks:
      - id: ruff
        args: [--fix, --exit-non-zero-on-fix]  # 自動修正を実行
      - id: ruff-format                        # コードフォーマット

  # Black - コードフォーマッター
  - repo: https://github.com/psf/black
    rev: 24.1.1
    hooks:
      - id: black
        language_version: python3
        files: '^(src|tests|main\.py).*\.py$'

  # isort - インポート文の整理
  - repo: https://github.com/pycqa/isort
    rev: 5.13.2
    hooks:
      - id: isort
        args: ["--profile", "black", "--force-single-line"]
        files: '^(src|tests|main\.py).*\.py$'
